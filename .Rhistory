melted <- melt(data_final_FABLE, id.vars = c("ALPHA3", "Pathway", "afforestation", "agricultural_land_expansion"))
melted$value <- ifelse(melted$variable == "pa", melted$value,
ifelse(
melted$value!= "NaN" & melted$variable != "Affor",
melted$value-1,
ifelse(melted$variable == "Affor",
melted$value,
NA)))
melted$sign <- ifelse(melted$value < 0,
0,
1)
complete_data <- melted %>%
select(-afforestation, -agricultural_land_expansion)
var.labs <- c(
Population_change = "Population",
kcal_targ_change = "Calories \n per Capita",
pdty_crop_change = "Crops \nProductivity",
pdty_live_change = "Livestock \nProductivity",
density_change = "Ruminant \nDensity ",
Expansion_change ="Agricultural \nexpansion \n(i)",
Export_quantity_change = "Exports \n(kcal)",
Import_quantity_change = "Imports \n(kcal)",
Foodwaste_change = "Share of \n Food Waste",
Affor = "Afforestation \n(Mha) \n(ii)",
pa= "Protected \n Areas"
)
complete_data$Pathway <- factor(as.character(complete_data$Pathway), levels = c("GlobalSustainability", "NationalCommitments", "CurrentTrend"))
complete_data <- complete_data %>%
mutate(ALPHA3 = ifelse(ALPHA3 == "GBR",
"UK",
ALPHA3))
complete_data$ALPHA3 <- factor(as.character(complete_data$ALPHA3), levels = c("ARG", "AUS", "BRA", "CAN",
"CHN", "COL", "DEU", "DNK","ETH",
"FIN", "GRC","IDN", 'IND',
"MEX", "NPL", "NOR", "RUS",
"RWA", "SWE", "TUR", "UK", "USA",
"R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
# Define the order of Pathway levels
pathway_order <- c("CurrentTrend", "NationalCommitments", "GlobalSustainability", "FSDP")
complete_data_country <- complete_data %>%
dplyr::filter(!ALPHA3 %in% c("R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
complete_data_region <- complete_data %>%
dplyr::filter(ALPHA3 %in% c("R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
p_final <- ggplot(complete_data_country, aes(y = value, x = reorder(Pathway, -as.numeric(factor(Pathway, levels = pathway_order))), group = ALPHA3, fill = sign)) +
geom_col(position = "dodge", show.legend = FALSE)+
ylab("Relative change between 2020 and 2050 (2020=0)")+
coord_flip()+
scale_x_discrete(labels = c(GlobalSustainability = "GS",
NationalCommitments = "NC",
CurrentTrend ="CT"))+
scale_y_continuous(n.breaks = 3)+
geom_hline(yintercept = 0, linetype = "dashed")+
facet_grid(ALPHA3~variable,
switch = "y",
labeller = labeller(variable = var.labs),
drop = T,
space = "fixed",
scale = "free")+
# geom_text(aes(label = region_labels[ALPHA3], y = Inf, x = Inf),
#           hjust = 1, vjust = 1, size = 4, fontface = "bold") +
theme(
panel.background = element_rect(fill = '#F2F2F2'),
panel.grid  = element_blank(),
strip.placement = "outside",
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
legend.background=element_blank(),
legend.key = element_rect(fill = NA),
legend.text = element_text(size = 10),
strip.text = element_text(size = 12, face = "bold"),
panel.spacing.x = unit(0.75, "lines"),
plot.caption = element_text(size = 12), # Adjust the font size of the caption
strip.text.y.left = element_text(angle = 0),
axis.text = element_text(size = 6),
axis.title.x = element_text(size = 14),
axis.line.x = element_line()
) +
labs(caption = "(i) 'Agricultural Expansion' is expressed in code, taking the value 1 for 'Free expansion scenario', -1 for 'No deforestation' and -2 for 'No Agricultural expansion'.
\n(ii) 'Afforestation (Mha)', results are expressed in net increase rather than relative change.
\nFor Turkey, 'Protected Areas' values have been manually set to 2.5 to better visualization (real value: 192)
")
width = 14
height = 24
print(p_final)
View(product)
View(melted)
View(db_change_foodwaste)
View(data_final)
melted <- melt(data_final_FABLE, id.vars = c("ALPHA3", "Pathway", "afforestation", "agricultural_land_expansion"))
View(melted)
melted$value <- ifelse(melted$variable == "pa", melted$value,
ifelse(
melted$value!= "NaN" & melted$variable != "Affor",
melted$value-1,
ifelse(melted$variable == "Affor",
melted$value,
NA)))
View(melted)
melted <- melt(data_final_FABLE, id.vars = c("ALPHA3", "Pathway", "afforestation", "agricultural_land_expansion"))
melted$value <- ifelse(melted$variable == "pa", melted$value,
ifelse(melted$variable == "food_waste", melted$value,
ifelse(
melted$value!= "NaN" & melted$variable != "Affor",
melted$value-1,
ifelse(melted$variable == "Affor",
melted$value,
NA))))
melted$sign <- ifelse(melted$value < 0,
0,
1)
View(melted)
View(melted)
View(melted)
melted$value <- ifelse(melted$variable == "pa", melted$value,
ifelse(melted$variable == "Foodwaste_change", melted$value,
ifelse(
melted$value!= "NaN" & melted$variable != "Affor",
melted$value-1,
ifelse(melted$variable == "Affor",
melted$value,
NA))))
melted$sign <- ifelse(melted$value < 0,
0,
1)
melted$value <- ifelse(melted$variable == "pa", melted$value,
ifelse(melted$variable == "Foodwaste_change", melted$value,
ifelse(
melted$value!= "NaN" & melted$variable != "Affor",
melted$value-1,
ifelse(melted$variable == "Affor",
melted$value,
NA))))
melted$sign <- ifelse(melted$value < 0,
0,
1)
complete_data <- melted %>%
select(-afforestation, -agricultural_land_expansion)
var.labs <- c(
Population_change = "Population",
kcal_targ_change = "Calories \n per Capita",
pdty_crop_change = "Crops \nProductivity",
pdty_live_change = "Livestock \nProductivity",
density_change = "Ruminant \nDensity ",
Expansion_change ="Agricultural \nexpansion \n(i)",
Export_quantity_change = "Exports \n(kcal)",
Import_quantity_change = "Imports \n(kcal)",
Foodwaste_change = "Share of \n Food Waste",
Affor = "Afforestation \n(Mha) \n(ii)",
pa= "Protected \n Areas"
)
complete_data$Pathway <- factor(as.character(complete_data$Pathway), levels = c("GlobalSustainability", "NationalCommitments", "CurrentTrend"))
complete_data <- complete_data %>%
mutate(ALPHA3 = ifelse(ALPHA3 == "GBR",
"UK",
ALPHA3))
complete_data$ALPHA3 <- factor(as.character(complete_data$ALPHA3), levels = c("ARG", "AUS", "BRA", "CAN",
"CHN", "COL", "DEU", "DNK","ETH",
"FIN", "GRC","IDN", 'IND',
"MEX", "NPL", "NOR", "RUS",
"RWA", "SWE", "TUR", "UK", "USA",
"R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
# Define the order of Pathway levels
pathway_order <- c("CurrentTrend", "NationalCommitments", "GlobalSustainability", "FSDP")
complete_data_country <- complete_data %>%
dplyr::filter(!ALPHA3 %in% c("R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
complete_data_region <- complete_data %>%
dplyr::filter(ALPHA3 %in% c("R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
p_final <- ggplot(complete_data_country, aes(y = value, x = reorder(Pathway, -as.numeric(factor(Pathway, levels = pathway_order))), group = ALPHA3, fill = sign)) +
geom_col(position = "dodge", show.legend = FALSE)+
ylab("Relative change between 2020 and 2050 (2020=0)")+
coord_flip()+
scale_x_discrete(labels = c(GlobalSustainability = "GS",
NationalCommitments = "NC",
CurrentTrend ="CT"))+
scale_y_continuous(n.breaks = 3)+
geom_hline(yintercept = 0, linetype = "dashed")+
facet_grid(ALPHA3~variable,
switch = "y",
labeller = labeller(variable = var.labs),
drop = T,
space = "fixed",
scale = "free")+
# geom_text(aes(label = region_labels[ALPHA3], y = Inf, x = Inf),
#           hjust = 1, vjust = 1, size = 4, fontface = "bold") +
theme(
panel.background = element_rect(fill = '#F2F2F2'),
panel.grid  = element_blank(),
strip.placement = "outside",
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
legend.background=element_blank(),
legend.key = element_rect(fill = NA),
legend.text = element_text(size = 10),
strip.text = element_text(size = 12, face = "bold"),
panel.spacing.x = unit(0.75, "lines"),
plot.caption = element_text(size = 12), # Adjust the font size of the caption
strip.text.y.left = element_text(angle = 0),
axis.text = element_text(size = 6),
axis.title.x = element_text(size = 14),
axis.line.x = element_line()
) +
labs(caption = "(i) 'Agricultural Expansion' is expressed in code, taking the value 1 for 'Free expansion scenario', -1 for 'No deforestation' and -2 for 'No Agricultural expansion'.
\n(ii) 'Afforestation (Mha)', results are expressed in net increase rather than relative change.
\nFor Turkey, 'Protected Areas' values have been manually set to 2.5 to better visualization (real value: 192)
")
width = 14
height = 24
print(p_final)
print(p_final)
data_final <- df_change %>%
left_join(db_change_crop) %>%
left_join(db_change_Live_Prod) %>%
left_join(db_change_RumDensity) %>%
left_join(product_tot) %>%
left_join(db_change_Expansion) %>%
left_join(db_change_afforestation) %>%
left_join(db_change_foodwaste) %>%
left_join(db_change_pa) %>%
dplyr::filter(ALPHA3 != "WORLD")
data_final_FABLE <- data_final %>%
#slice(which(!(ALPHA3 %in% c("ASP", "NEU", "NMC", "ROEU", "SSA", "CSA")))) %>%
data.frame()
melted <- melt(data_final_FABLE, id.vars = c("ALPHA3", "Pathway", "afforestation", "agricultural_land_expansion"))
melted$value <- ifelse(melted$variable == "pa", melted$value,
ifelse(melted$variable == "Foodwaste_change", melted$value,
ifelse(
melted$value!= "NaN" & melted$variable != "Affor",
melted$value-1,
ifelse(melted$variable == "Affor",
melted$value,
NA))))
melted$sign <- ifelse(melted$value < 0,
0,
1)
complete_data <- melted %>%
select(-afforestation, -agricultural_land_expansion)
View(complete_data)
var.labs <- c(
Population_change = "Population",
kcal_targ_change = "Calories \n per Capita",
pdty_crop_change = "Crops \nProductivity",
pdty_live_change = "Livestock \nProductivity",
density_change = "Ruminant \nDensity ",
Expansion_change ="Agricultural \nexpansion \n(i)",
Export_quantity_change = "Exports \n(kcal)",
Import_quantity_change = "Imports \n(kcal)",
Foodwaste_change = "Share of \n Food Waste",
Affor = "Afforestation \n(Mha) \n(ii)",
pa= "Protected \n Areas"
)
complete_data$Pathway <- factor(as.character(complete_data$Pathway), levels = c("GlobalSustainability", "NationalCommitments", "CurrentTrend"))
complete_data <- complete_data %>%
mutate(ALPHA3 = ifelse(ALPHA3 == "GBR",
"UK",
ALPHA3))
complete_data$ALPHA3 <- factor(as.character(complete_data$ALPHA3), levels = c("ARG", "AUS", "BRA", "CAN",
"CHN", "COL", "DEU", "DNK","ETH",
"FIN", "GRC","IDN", 'IND',
"MEX", "NPL", "NOR", "RUS",
"RWA", "SWE", "TUR", "UK", "USA",
"R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
# Define the order of Pathway levels
pathway_order <- c("CurrentTrend", "NationalCommitments", "GlobalSustainability", "FSDP")
complete_data_country <- complete_data %>%
dplyr::filter(!ALPHA3 %in% c("R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
complete_data_region <- complete_data %>%
dplyr::filter(ALPHA3 %in% c("R_ASP", "R_CSA", "R_NEU", "R_NMC",
"R_OEU", "R_SSA"))
p_final <- ggplot(complete_data_country, aes(y = value, x = reorder(Pathway, -as.numeric(factor(Pathway, levels = pathway_order))), group = ALPHA3, fill = sign)) +
geom_col(position = "dodge", show.legend = FALSE)+
ylab("Relative change between 2020 and 2050 (2020=0)")+
coord_flip()+
scale_x_discrete(labels = c(GlobalSustainability = "GS",
NationalCommitments = "NC",
CurrentTrend ="CT"))+
scale_y_continuous(n.breaks = 3)+
geom_hline(yintercept = 0, linetype = "dashed")+
facet_grid(ALPHA3~variable,
switch = "y",
labeller = labeller(variable = var.labs),
drop = T,
space = "fixed",
scale = "free")+
# geom_text(aes(label = region_labels[ALPHA3], y = Inf, x = Inf),
#           hjust = 1, vjust = 1, size = 4, fontface = "bold") +
theme(
panel.background = element_rect(fill = '#F2F2F2'),
panel.grid  = element_blank(),
strip.placement = "outside",
axis.title.y = element_blank(),
axis.ticks.y = element_blank(),
legend.background=element_blank(),
legend.key = element_rect(fill = NA),
legend.text = element_text(size = 10),
strip.text = element_text(size = 12, face = "bold"),
panel.spacing.x = unit(0.75, "lines"),
plot.caption = element_text(size = 12), # Adjust the font size of the caption
strip.text.y.left = element_text(angle = 0),
axis.text = element_text(size = 6),
axis.title.x = element_text(size = 14),
axis.line.x = element_line()
) +
labs(caption = "(i) 'Agricultural Expansion' is expressed in code, taking the value 1 for 'Free expansion scenario', -1 for 'No deforestation' and -2 for 'No Agricultural expansion'.
\n(ii) 'Afforestation (Mha)', results are expressed in net increase rather than relative change.
\nFor Turkey, 'Protected Areas' values have been manually set to 2.5 to better visualization (real value: 192)
")
width = 14
height = 24
print(p_final)
# N
################# DB to use #########
date_DB = "240424"
#install.packages("reshape2")
# libraries ---------------------------------------------------------------
library(here)
#library(plyr)
library(dplyr)
library(tidyr)
library(readxl)
library(readr)
library(reshape2)
library(ggplot2)
library(stringr)
library(conflicted)
here()
conflicted::conflict_prefer("rename", "dplyr")
conflicted::conflict_prefer("mutate", "dplyr")
conflicted::conflict_prefer("summarise", "dplyr")
conflicted::conflicts_prefer(dplyr::filter)
# file --------------------------------------------------------------------
file <- list.files(path = here("data", "scenathon_2023", "Calculators BT"))
#  Extraction -------------------------------------------------------------
db_herd <- read_excel(here("data", "scenathon_2023", "manure", "240424_Extracted_herdsize.xlsx")) %>%
# mutate(ALPHA3 = ifelse(ALPHA3 == "RME", "NMC",
#                        ifelse(nchar(ALPHA3)>3, stringr::str_sub(ALPHA3, 2, 4), ALPHA3))) %>%
select(-ALPHA3) %>%
rename(ALPHA3 = country) %>%
mutate(TLU = as.numeric(FinFeasHerd)) %>%
select(-FinFeasHerd)
db_herd <- read_excel(here("data", "scenathon_2023", "manure", "240424_Extracted_herdsize.xlsx")) %>%
# mutate(ALPHA3 = ifelse(ALPHA3 == "RME", "NMC",
#                        ifelse(nchar(ALPHA3)>3, stringr::str_sub(ALPHA3, 2, 4), ALPHA3))) %>%
select(-ALPHA3) %>%
rename(ALPHA3 = country) %>%
mutate(TLU = as.numeric(FinFeasHerd)) %>%
select(-FinFeasHerd)
here()
db_herd <- read_excel(here("data", "scenathon_2023", "manure", "240424_Extracted_herdsize.xlsx")) %>%
# mutate(ALPHA3 = ifelse(ALPHA3 == "RME", "NMC",
#                        ifelse(nchar(ALPHA3)>3, stringr::str_sub(ALPHA3, 2, 4), ALPHA3))) %>%
select(-ALPHA3) %>%
rename(ALPHA3 = country) %>%
mutate(TLU = as.numeric(FinFeasHerd)) %>%
select(-FinFeasHerd)
db_herd <- read_excel(here("data", "scenathon_2023", "manure", "240424_Extracted_herdsize.xlsx")) %>%
# mutate(ALPHA3 = ifelse(ALPHA3 == "RME", "NMC",
#                        ifelse(nchar(ALPHA3)>3, stringr::str_sub(ALPHA3, 2, 4), ALPHA3))) %>%
select(-ALPHA3) %>%
rename(ALPHA3 = country) %>%
mutate(TLU = as.numeric(FinFeasHerd)) %>%
select(-FinFeasHerd)
db_herd <- read_excel(here("data", "scenathon_2023", "manure", "240424_Extracted_herdsize.xlsx"))
# Libraries ---------------------------------------------------------------
library(here)
library(dplyr)
library(readr)
library(readxl)
library(conflicted)
library(readxl)
library(ggplot2)
library(hrbrthemes)
library(stringr)
library(writexl)
library(RColorBrewer)
library(openxlsx)
library(tidyr)
conflict_prefer("filter", "dplyr")
conflicts_prefer(dplyr::lag)
here()
aus_data <- read_xlsx(here("data", "report_AUS_20240306_9H01.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_diet", "GS_affor", "GS_live_rumdensity"))
bra_data <- read_xlsx(here("data", "report_BRA_20240306_10H44.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_agrexp", "GS_diet", "GS_crop"))
col_data <- read_xlsx(here("data", "report_COL_20240325_15H07.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_diet", "GS_crop", "GS_pop_urban"))
eth_data <- read_xlsx(here("data", "report_ETH_20240426_12H01.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_pop", "GS_agrexp", "GS_crop"))
gbr_data <- read_xlsx(here("data", "report_GBR_20240306_10H43.xlsx"), sheet = "Indicators")  %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_diet", "GS_foodwaste", "GS_crop"))
all_data <- aus_data %>%
bind_rows(bra_data) %>%
bind_rows(col_data) %>%
bind_rows(eth_data) %>%
bind_rows(gbr_data)
all_data <- all_data
View(all_data)
# Libraries ---------------------------------------------------------------
library(here)
library(dplyr)
library(readr)
library(readxl)
library(conflicted)
library(readxl)
library(ggplot2)
library(hrbrthemes)
library(stringr)
library(writexl)
library(RColorBrewer)
library(openxlsx)
library(tidyr)
conflict_prefer("filter", "dplyr")
conflicts_prefer(dplyr::lag)
here()
aus_data <- read_xlsx(here("data", "report_AUS_20240306_9H01.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_diet", "GS_affor", "GS_live_rumdensity"))
bra_data <- read_xlsx(here("data", "report_BRA_20240306_10H44.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_agrexp", "GS_diet", "GS_crop"))
col_data <- read_xlsx(here("data", "report_COL_20240325_15H07.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_diet", "GS_crop", "GS_pop_urban"))
eth_data <- read_xlsx(here("data", "report_ETH_20240426_12H01.xlsx"), sheet = "Indicators") %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_pop", "GS_agrexp", "GS_crop"))
gbr_data <- read_xlsx(here("data", "report_GBR_20240306_10H43.xlsx"), sheet = "Indicators")  %>%
rename(Pathway = `Current Trend`) %>%
filter(Pathway %in% c("Current Trend_Yes", "NationalCommitments", "GlobalSustainability", "GS_diet", "GS_foodwaste", "GS_crop"))
all_data <- aus_data %>%
bind_rows(bra_data) %>%
bind_rows(col_data) %>%
bind_rows(eth_data) %>%
bind_rows(gbr_data)
all_data <- all_data
all_data <- all_data %>%
select(Pathway, Location, Population, Year, kcal_feas, kcal_PoU,
ForestChange, CalcCropland, CalcPasture, CalcOtherLand,
CalcFarmLabourFTE,
CalcCropN2O, CalcCropCH4, CalcCropCO2, CalcLiveN2O, CalcLiveCH4, CalcDeforCO2, CalcOtherLUCCO2, CalcSequestCO2,
kcal_feas, kcal_mder,
LNPPMatureForest, LNPPMatureOtherLand,
CalcN_org, CalcN_synth,
CalcWFblue,
NewForestChange, LNPPNewForest, LNPPNewOtherLand, AgroecoSh, CalcAllAgriCO2e) %>%
mutate(Cropland_change = CalcCropland - lag(CalcCropland)) %>%
mutate(Pasture_change = CalcPasture - lag(CalcPasture)) %>%
mutate(OtherLand_change = CalcOtherLand - lag(CalcOtherLand)) %>%
mutate(LNPPNewOtherLand_change = LNPPNewOtherLand - lag(LNPPNewOtherLand)) %>%
mutate(LNPPNewForest_change = LNPPNewForest - lag(LNPPNewForest)) %>%
# filter(Year %in% c("2030", "2050")) %>%
mutate(CO2 = CalcCropCO2 + CalcDeforCO2 + CalcOtherLUCCO2 + CalcSequestCO2) %>%
mutate(CH4 = CalcCropCH4 + CalcLiveCH4) %>%
mutate(N2O = CalcCropN2O + CalcLiveN2O) %>%
mutate(TotalN = CalcN_org + CalcN_synth)
View(all_data)
all_data <- all_data %>%
select(Pathway, Location, Year, CalcAllAgriCO2e) %>%
mutate(Cropland_change = CalcCropland - lag(CalcCropland)) %>%
mutate(Pasture_change = CalcPasture - lag(CalcPasture)) %>%
mutate(OtherLand_change = CalcOtherLand - lag(CalcOtherLand)) %>%
mutate(LNPPNewOtherLand_change = LNPPNewOtherLand - lag(LNPPNewOtherLand)) %>%
mutate(LNPPNewForest_change = LNPPNewForest - lag(LNPPNewForest)) %>%
# filter(Year %in% c("2030", "2050")) %>%
mutate(CO2 = CalcCropCO2 + CalcDeforCO2 + CalcOtherLUCCO2 + CalcSequestCO2) %>%
mutate(CH4 = CalcCropCH4 + CalcLiveCH4) %>%
mutate(N2O = CalcCropN2O + CalcLiveN2O) %>%
mutate(TotalN = CalcN_org + CalcN_synth)
all_data <- aus_data %>%
bind_rows(bra_data) %>%
bind_rows(col_data) %>%
bind_rows(eth_data) %>%
bind_rows(gbr_data)
all_data <- all_data %>%
View(all_data)
all_data <- aus_data %>%
bind_rows(bra_data) %>%
bind_rows(col_data) %>%
bind_rows(eth_data) %>%
bind_rows(gbr_data)
all_data <- all_data
all_data <- aus_data %>%
bind_rows(bra_data) %>%
bind_rows(col_data) %>%
bind_rows(eth_data) %>%
bind_rows(gbr_data)
all_data <- all_data %>%
select(Pathway, Location, Year, CalcAllAgriCO2e)
View(all_data)
# mutate(Cropland_change = CalcCropland - lag(CalcCropland)) %>%
# mutate(Pasture_change = CalcPasture - lag(CalcPasture)) %>%
# mutate(OtherLand_change = CalcOtherLand - lag(CalcOtherLand)) %>%
# mutate(LNPPNewOtherLand_change = LNPPNewOtherLand - lag(LNPPNewOtherLand)) %>%
# mutate(LNPPNewForest_change = LNPPNewForest - lag(LNPPNewForest)) %>%
# # filter(Year %in% c("2030", "2050")) %>%
# mutate(CO2 = CalcCropCO2 + CalcDeforCO2 + CalcOtherLUCCO2 + CalcSequestCO2) %>%
# mutate(CH4 = CalcCropCH4 + CalcLiveCH4) %>%
# mutate(N2O = CalcCropN2O + CalcLiveN2O) %>%
# mutate(TotalN = CalcN_org + CalcN_synth)
write.xlsx(all_data, file = here("data", "Decomposition", "database_decomposition_Yiorgos.xlsx"))
